(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{88:function(t,e,n){"use strict";n.r(e);var c=n(10),i=n(0),o=n.n(i),r=n(30),a=n.n(r),u=n(133),l=n(134),s=n(31),d=n(9),f=n(127),O=function(t){var e=t.onAppend,n=Object(i.useRef)(null);return Object(c.jsx)(f.a,{inputRef:n,inputProps:{onKeyDown:function(t){"Enter"===t.key&&null!==n.current&&""!==n.current.value&&(e&&e(n.current.value),n.current.value="")}},label:"What needs to be done?",fullWidth:!0,type:"text",id:"new-todo-input"})},j=n(55),p=n.n(j),b=n(69),x=n(26),h=n(129);var v=Object(x.b)({id:"todo-list",initial:"init",context:{list:[],filter:"all"},states:{init:{on:{LAUNCH:{target:"loaded"},LOAD:{target:"loaded",actions:[Object(x.a)({list:function(t,e){return e.context.list},filter:function(t,e){return e.context.filter}})]}}},loaded:{on:{APPEND_TODO:{actions:[Object(x.a)({list:function(t,e){return t.list.concat((n=e.content,{id:Object(h.a)(),content:n,isCompleted:!1}));var n}})]},TOGGLE_TODO:{actions:[Object(x.a)({list:function(t,e){return t.list.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)({},t),{},{isCompleted:!t.isCompleted}):t}))}})]},UPDATE_TODO:{actions:[Object(x.a)({list:function(t,e){return t.list.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)({},t),{},{content:e.content}):t}))}})]},REMOVE_TODO:{actions:[Object(x.a)({list:function(t,e){return t.list.filter((function(t){var n=t.id;return e.id!==n}))}})]},CLEAR_COMPLETED:{actions:[Object(x.a)({list:function(t){return t.list.filter((function(t){return!t.isCompleted}))}})]},SET_FILTER:{actions:[Object(x.a)({filter:function(t,e){return e.filter}})]}}}}}),T=Object(x.c)(v),C=n(56),g="_persiste:todo-list-app",E=function(t){return function(e){if("all"===t)return!0;if("completed"===t)return e.isCompleted;if("active"===t)return!e.isCompleted;throw new Error("invalid todo filter")}};var m=n(131),y=n(125),D=n(126),L=n(128),A=n(132),k=function(t){var e=t.todo,n=t.handleUpdate,o=Object(i.useState)((function(){return!1})),r=Object(d.a)(o,2),a=r[0],u=r[1],l=Object(i.useState)((function(){return e.content})),f=Object(d.a)(l,2),O=f[0],j=f[1];return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)("input",{value:O,onChange:function(t){return j(t.target.value)},onKeyDown:function(t){"Escape"===t.key?u(!1):"Enter"===t.key&&(n(Object(s.a)(Object(s.a)({},e),{},{content:O})),u(!1))}}):Object(c.jsx)("span",{onDoubleClick:function(){u(!0)},children:e.content})})};function w(){var t=function(){Object(i.useEffect)((function(){T.subscribe((function(t){t.changed&&(c(t.context.list.filter(E(t.context.filter))),window.indexedDB&&Object(C.b)(g,t.context))})),T.start();var t=function(){return T.send("LAUNCH")};function e(){return(e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)(g);case 3:(n=e.sent)?(T.send({type:"LAUNCH"}),T.send({type:"LOAD",context:n})):t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return window.indexedDB?function(){e.apply(this,arguments)}():t(),function(){T.stop()}}),[]);var t=Object(i.useState)([]),e=Object(d.a)(t,2),n=e[0],c=e[1],o=T.send;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return T.state.context.list.filter(E(t))}return{todoList:n,getTodoById:function(t){return T.state.context.list.find((function(e){return e.id===t}))},appendTodo:function(t){o({type:"APPEND_TODO",content:t})},toggleTodo:function(t){o({type:"TOGGLE_TODO",id:t})},clearCompleted:function(){o({type:"CLEAR_COMPLETED"})},getTodoListByFilter:r,updateTodo:function(t){o({type:"UPDATE_TODO",id:t.id,content:t.content})},getActiveTodoCount:function(){return r("active").length},removeTodo:function(t){o({type:"REMOVE_TODO",id:t})},setFilter:function(t){o({type:"SET_FILTER",filter:t})},filters:["all","active","completed"]}}(),e=t.todoList,n=t.setFilter,o=t.filters,r=t.toggleTodo,a=t.appendTodo,u=t.getActiveTodoCount,l=t.clearCompleted,s=t.removeTodo,f=t.updateTodo;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{onAppend:function(t){return a(t)}}),Object(c.jsx)(m.a,{}),Object(c.jsx)(y.a,{children:e.map((function(t){return Object(c.jsxs)(D.a,{children:[Object(c.jsx)(L.a,{checked:t.isCompleted,onChange:function(){return r(t.id)}}),Object(c.jsx)(k,{todo:t,handleUpdate:f}),Object(c.jsx)(A.a,{onClick:function(){return s(t.id)},children:" x "})]},t.id)}))}),o.map((function(t){return Object(c.jsx)(A.a,{onClick:function(){return n(t)},children:t},t)})),Object(c.jsxs)("p",{children:[" ",u()+" active todo(s)."," "]}),Object(c.jsx)(A.a,{onClick:function(){return l()},children:"Clear"})]})}function _(){return Object(c.jsxs)(u.a,{children:[Object(c.jsx)(l.a,{align:"center",display:"block",variant:"h1",children:"todo"}),Object(c.jsx)(w,{}),Object(c.jsx)(l.a,{align:"center",display:"block",variant:"body2",children:"\xa9 2021"})]})}var F=n(130),P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),o(t),r(t)}))};a.a.render(Object(c.jsxs)(o.a.StrictMode,{children:[Object(c.jsx)(F.a,{}),Object(c.jsx)(_,{})]}),document.getElementById("root")),P()}},[[88,1,2]]]);
//# sourceMappingURL=main.e2779a32.chunk.js.map