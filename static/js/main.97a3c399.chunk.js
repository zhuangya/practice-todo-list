(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{89:function(t,n,e){"use strict";e.r(n);var i=e(10),r=e(0),o=e.n(r),c=e(31),a=e.n(c),u=e(136),d=e(32),s=e(9),l=e(130),f=function(t){var n=t.onAppend,e=Object(r.useRef)(null);return Object(i.jsx)(l.a,{autoFocus:!0,inputRef:e,inputProps:{onKeyDown:function(t){"Enter"===t.key&&null!==e.current&&""!==e.current.value&&(n&&n(e.current.value),e.current.value="")}},label:"What needs to be done?",fullWidth:!0,type:"text",id:"new-todo-input"})},b=e(58),j=e.n(b),O=e(70),p=e(27),x=e(132);var v=Object(p.b)({id:"todo-list",initial:"init",context:{list:[],filter:"all"},states:{init:{on:{LAUNCH:{target:"loaded"},LOAD:{target:"loaded",actions:[Object(p.a)({list:function(t,n){return n.context.list},filter:function(t,n){return n.context.filter}})]}}},loaded:{on:{APPEND_TODO:{actions:[Object(p.a)({list:function(t,n){return t.list.concat((e=n.content,{id:Object(x.a)(),content:e,isCompleted:!1}));var e}})]},TOGGLE_TODO:{actions:[Object(p.a)({list:function(t,n){return t.list.map((function(t){return t.id===n.id?Object(d.a)(Object(d.a)({},t),{},{isCompleted:!t.isCompleted}):t}))}})]},UPDATE_TODO:{actions:[Object(p.a)({list:function(t,n){return t.list.map((function(t){return t.id===n.id?Object(d.a)(Object(d.a)({},t),{},{content:n.content}):t}))}})]},REMOVE_TODO:{actions:[Object(p.a)({list:function(t,n){return t.list.filter((function(t){var e=t.id;return n.id!==e}))}})]},CLEAR_COMPLETED:{actions:[Object(p.a)({list:function(t){return t.list.filter((function(t){return!t.isCompleted}))}})]},SET_FILTER:{actions:[Object(p.a)({filter:function(t,n){return n.filter}})]}}}}}),h=Object(p.c)(v),g=e(59),m="_persiste:todo-list-app",T=function(t){return function(n){if("all"===t)return!0;if("completed"===t)return n.isCompleted;if("active"===t)return!n.isCompleted;throw new Error("invalid todo filter")}};var y=e(127),C=e(128),E=e(131),D=e(135),w=e(129),L=e(18),k=e(35),A=e(134);function _(){var t=Object(L.a)(["\n  font-size: 18px;\n  width: 100%;\n  display: block;\n  padding: 8px;\n  border-radius: 0;\n  margin: 0;\n  &:active,\n  &:focus {\n    border-radius: 0;\n  }\n"]);return _=function(){return t},t}function F(){var t=Object(L.a)(["\n  flex-grow: 1;\n  font-size: 16px;\n"]);return F=function(){return t},t}function P(){var t=Object(L.a)(["\n  width: 100%;\n  display: flex;\n  margin: 4px;\n  background-color: rgba(233, 233, 233, 0.2);\n  .op {\n    visibility: hidden;\n  }\n  &:hover {\n    .op {\n      visibility: visible;\n    }\n  }\n"]);return P=function(){return t},t}function S(){var t=Object(L.a)(["\n  visibility: hidden;\n"]);return S=function(){return t},t}function R(){var t=Object(L.a)(["\n  text-align: center;\n  color: gray;\n  padding: 10px;\n"]);return R=function(){return t},t}function B(){var t=Object(L.a)(["\n  margin: 40px auto;\n  padding: 40px 20px;\n  box-shadow: 0 0.5em 2em -0.3em rgba(0, 0, 0, 0.25);\n"]);return B=function(){return t},t}var U=Object(k.a)(A.a)(B()),I=k.a.footer(R()),M=(Object(k.a)(D.a)(S()),k.a.div(P())),N=k.a.span(F()),G=k.a.input(_()),z=function(t){var n=t.todo,e=t.handleUpdate,o=Object(r.useState)((function(){return!1})),c=Object(s.a)(o,2),a=c[0],l=c[1],f=Object(r.useState)((function(){return n.content})),b=Object(s.a)(f,2),j=b[0],O=b[1];return Object(i.jsx)(N,{children:a?Object(i.jsx)(G,{value:j,onChange:function(t){return O(t.target.value)},onKeyDown:function(t){"Escape"===t.key?l(!1):"Enter"===t.key&&(e(Object(d.a)(Object(d.a)({},n),{},{content:j})),l(!1))}}):Object(i.jsx)(u.a,{variant:"body2",sx:{fontSize:18},onDoubleClick:function(){l(!0)},children:n.content})})};function W(){var t=function(){Object(r.useEffect)((function(){h.subscribe((function(t){t.changed&&(i(t.context.list.filter(T(t.context.filter))),u(t.context.filter),window.indexedDB&&Object(g.b)(m,t.context))})),h.start();var t=function(){return h.send("LAUNCH")};function n(){return(n=Object(O.a)(j.a.mark((function n(){var e;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(g.a)(m);case 3:(e=n.sent)?h.send({type:"LOAD",context:e}):t(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}return window.indexedDB?function(){n.apply(this,arguments)}():t(),function(){h.stop()}}),[]);var t=Object(r.useState)([]),n=Object(s.a)(t,2),e=n[0],i=n[1],o=Object(r.useState)((function(){return""})),c=Object(s.a)(o,2),a=c[0],u=c[1],d=h.send;function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return h.state.context.list.filter(T(t))}return{filter:a,todoList:e,getTodoById:function(t){return h.state.context.list.find((function(n){return n.id===t}))},appendTodo:function(t){d({type:"APPEND_TODO",content:t})},toggleTodo:function(t){d({type:"TOGGLE_TODO",id:t})},clearCompleted:function(){d({type:"CLEAR_COMPLETED"})},getTodoListByFilter:l,updateTodo:function(t){d({type:"UPDATE_TODO",id:t.id,content:t.content})},getActiveTodoCount:function(){return l("active").length},removeTodo:function(t){d({type:"REMOVE_TODO",id:t})},setFilter:function(t){d({type:"SET_FILTER",filter:t})},filters:["all","active","completed"]}}(),n=t.todoList,e=t.filter,o=t.setFilter,c=t.filters,a=t.toggleTodo,d=t.appendTodo,l=t.getActiveTodoCount,b=t.clearCompleted,p=t.removeTodo,x=t.updateTodo;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f,{onAppend:function(t){return d(t)}}),Object(i.jsx)(y.a,{children:n.map((function(t){return Object(i.jsxs)(M,{as:C.a,children:[Object(i.jsx)(E.a,{checked:t.isCompleted,onChange:function(){return a(t.id)}}),Object(i.jsx)(z,{todo:t,handleUpdate:x}),Object(i.jsxs)(D.a,{className:"op",onClick:function(){return p(t.id)},children:[" ","x"," "]})]},t.id)}))}),Object(i.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[Object(i.jsxs)(u.a,{variant:"body2",children:[" ",l()+" active todo(s)."," "]}),Object(i.jsx)("section",{children:c.map((function(t){return Object(i.jsx)(D.a,{variant:t===e?"outlined":"text",onClick:function(){return o(t)},children:t},t)}))}),Object(i.jsx)(D.a,{onClick:function(){return b()},children:"Clear"})]})]})}function H(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.a,{align:"center",display:"block",variant:"h1",children:"todo"}),Object(i.jsxs)(U,{maxWidth:"md",children:[Object(i.jsx)(W,{}),Object(i.jsx)(I,{children:Object(i.jsx)(u.a,{align:"center",display:"block",variant:"body2",children:"\xa9 2021"})})]})]})}var J=e(133),K=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,137)).then((function(n){var e=n.getCLS,i=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),i(t),r(t),o(t),c(t)}))};a.a.render(Object(i.jsxs)(o.a.StrictMode,{children:[Object(i.jsx)(J.a,{}),Object(i.jsx)(H,{})]}),document.getElementById("root")),K()}},[[89,1,2]]]);
//# sourceMappingURL=main.97a3c399.chunk.js.map